package dao;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
import java.util.ArrayList;
import java.util.List;

import data.Mvc_employee;
public class EmployeeDao {

	public static Connection getConnection() throws SQLException
	{
		DriverManager.registerDriver
		(new com.mysql.cj.jdbc.Driver());
		
		Connection con=DriverManager.getConnection
		("jdbc:mysql://localhost:3306/employee","root","root");
		
		
		return con;
	}
	
	public void insertEmployee(Mvc_employee emp)
	{
		
	}
	
	public List<Mvc_employee> showEmployees()
	{
		List<Mvc_employee> list=new ArrayList<Mvc_employee>();
		
		try {
			Connection con=getConnection();
			Statement ps=con.createStatement();
			ResultSet rs=ps.executeQuery("select * from mvc_employee");
			while(rs.next())
			{
			Mvc_employee u=new Mvc_employee();
			u.setDept(rs.getString(3));
			u.setDesg(rs.getString(4));
			u.setEmail(rs.getString(5));
			u.setEmpid(rs.getString(1));
			u.setEname(rs.getString(2));
			}
			
		} catch (Exception e) {
			
			System.out.println(e);
		}
		
		
		return list;
		}
	
}
